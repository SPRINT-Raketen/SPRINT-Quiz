<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Quiz Page</title>
        <link rel = "stylesheet" href = "css/quizStyle.css">
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

        <script src="js/script.js"></script>

        <!-- Bootstrap -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">


        <!-- Ergänzung von Markus --> 
        <script>
            //Laden des JSON-Objekts. Die url muss noch ersetzt werden durch etwas "Richtiges"
            const JSON_url = '{"id":0,"level": 0,"subject": "dummyTest","question": "Wieviele Beine hat eine Katze?","answers": ["vier Beine", "3 Beine","7 Flügel","weiss nicht"]}';

            //Diese Funktion parst das JSON-Objekt auf die einzelnen Feldern des html
            function parseJSON (){
                var myJsonObj = JSON.parse(JSON_url);
                document.getElementById("question_text").innerHTML = myJsonObj.question;
                document.getElementById("subject").innerHTML = myJsonObj.subject;
                
                //Weil es 4 Antworten sind, ist's ein Array. vgl. JSON
                document.getElementById("answer_a").innerHTML = myJsonObj.answers[0];
                document.getElementById("answer_b").innerHTML = myJsonObj.answers[1];
                document.getElementById("answer_c").innerHTML = myJsonObj.answers[2];
                document.getElementById("answer_d").innerHTML = myJsonObj.answers[3];


                //die folgenden Attribute gibts im html noch nicht. Müssen die sichtbar sein?
                document.getElementById("level").innerHTML = myJsonObj.level;
                document.getElementById("sid").innerHTML = myJsonObj.id;
            }
            /*Was fehlt noch:
                a) Der Ablauf ist momentan holprig, weil sich die Ansätze in die Quere kommenn.
                    Momentan:S
                        0. Index: Klick "Start Quiz" -> Wechsel zu Quizbildschirm
                        1. klick "neue Frage anzeigen" -> vordefinierte Frage taucht auf
                        2. klick "Frage aus pseudo..." -> Frage aus JSON taucht auf
                    mE Sinnvoller:
                        0. Index: Klick "Start Quiz" -> Wechsel zu Quizbildschirm, erste Frage wird schon angezeigt
                                                        dh im Hintergrund muss schon eine JSON-Abfrage passieren
                        1. buttons/Funktionen "submit","Neue Frage anzeigen","Frage aus pseudo..." zusammenführen
                            zB klick auf "submit" lädt im Hintergrund neues JSON, zeigt Inhalte an etc.
                
                b) Das JSONS-Script wechselt noch nicht zur nächsten Frage, es lädt immer das gleiche JSON
            */
        </script>
        
        <script src="js/quiz.js"></script>
    </head>

    <body>
        <!--Zeile mit Quiz beenden-->
        <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-6"></div>
            <div class="col-md-2">
                <section id="result" style="display: none">
                    <button class="btn btn-dark"><a href = "results.html" title ="Anzeige der aktuellen Punkte">Quiz beenden</a></button>
                </section>
            </div>
        </div>
        <br>
        <br>
        <div id="image" style="display:block">
            <img src = "millionen-quiz.png" width = "200" height="191" alt = "SPRINT-Quiz">
        </div>
        <!--Section mit Frage und Antworten-->
        <section id="quiz1" style="display: none">
            <form id="quiz" name="quiz" method="" action="">
                <div class="row">
                    <div class="col-md-1"></div>
                    <div class="col-md-4">
                        <h4 class="d-inline p-2 bg-warning text-white">Frage <span id="qno">0</span>: <span id="subject">Subject</span></h4>
                    </div>
                    <div class="col-md-2"></div>
                    <div class="col-md-2"></div>
                    <div class="col-md-2">
                        <h4 class="d-inline p-2 bg-warning text-white">Level: <span id="level">Betrag</span></h4>
                    </div>
                </div>
                <br>
                <br>
                <div class="row">
                    <div class="col-md-1"></div>
                    <h3 id="question_text" class="col-md-9 d-block p-2 bg-primary text-white">Frage?</h3>
                    <div class="col-md-2"></div>
                </div>
                <p></p>
                <!--Antworten A und B-->
                <div class="row">
                    <div class="col-md-1"></div>
                    <button class="h3 col-md-4 d-inline p-2 bg-primary text-white" type="button" role="alert" id="answers_a" name="answers" value="A" onclick="checkAnswer(this)">
                        <label for="answers_a"><span id="answer_a">Antwort A</span></label></button>
                    <div class="col-md-1"></div>
                    <button class="h3 col-md-4 d-inline p-2 bg-primary text-white" type="button" role="alert" id="answers_b" name="answers" value="B" onclick="checkAnswer(this)">
                        <label for="answers_b"><span id="answer_b">Antwort B</span></label></button>
                        <div class="col-md-1"></div>
                    </div>
                <!--Antworten C und D-->
                <div class="row">
                    <div class="col-md-1"></div>
                    <button class="h3 col-md-4 d-inline p-2 bg-primary text-white" type="button" role="alert" id="answers_c" name="answers" value="C" onclick="checkAnswer(this)">
                        <label for="answers_c"><span id="answer_c">Antwort C</span></label></button>
                    <div class="col-md-1"></div>
                    <button class="h3 col-md-4 d-inline p-2 bg-primary text-white" type="button" role="alert" id="answers_d" name="answers" value="D" onclick="checkAnswer(this)">
                        <label for="answers_d"><span id="answer_d">Antwort D</span></label></button>
                        <div class="col-md-2"></div>
                </div>               
            </form>
        </section>
        <p></p>

        <!--display feedback-->
        <div class="row">
            <div class="col-md-1"></div>
            <!--display correct answer-->
            <section id="correct_answer" style="display: none" class="col-md-9 text-center">
                <h4 class="d-inline p-2 bg-success text-white">Gratulation, your answer is correct.</h4>
            </section>

            <!--display false answer-->
            <section id="false_answer" style="display: none" class="col-md-1">
                <h4 class="d-inline p-2 bg-danger text-white">Sorry, your answer is not correct.</h4>
            </section>
        </div>
        <p></p>
        <!--Anzeige nächste Frage-->
        <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-9">
                <button class="btn btn-dark .btn-circle.btn-xl" type="button" id="continue" style="display:none" onclick="
                    showQuestion();
                    hide(document.getElementById('continue'));
                    hide(document.getElementById('correct_answer'))"><h4>Next Question</h4></button>      
            </div>
        </div>
        <!--Anzeige Quiz starten; erscheint nur auf 1. Seite-->
        <p><button class="display-1" id="startQuiz" style="display:block" onclick="
                        show(document.getElementById('result'));
                        show(document.getElementById('quiz1'));
                        showQuestion();
                        hide(document.getElementById('image'));
                        hide(document.getElementById('startQuiz'))">Quiz starten</button></p>       
        <p> </p>
        <!--Anzeige nächste Frage-->
        <p></p>
        <p><button id="continue" style="display:none" onclick="
                        showQuestion();
                        hide(document.getElementById('continue'));
                        hide(document.getElementById('correct_answer'))">Nächste Frage</button></p>       
        <p> </p>
        <!--<button><a href = "index.html" title ="Start Page">Zur Startseite zurück</a></body></button>-->
        
        <!-- Ergänzung von Markus --> 
        <p></p>
        <button onclick="showNewQuestion ()">Frage aus JSON laden (JSON wird später mal von API requested)</button> <p></p>
        <p></p>
        <section id="result" style="display: none">
        <button><a href = "results.html" title ="Anzeige der aktuellen Punkte">Quiz beenden</a></body></button> <p></p>
        </section>
        <section id="congratulation" style="display:none">
        <button><a href = "congratulation.html" title ="Anzeige bei erfolgreichen Abschluss des Quiz">Gratulationsbildschirm</a></body></button>
        </section>
    </body>
    <!--Alter Code bevor Neustrukturierung github-->
    <!--<body>
        <img src = "millionen-quiz.png" width = "200" height="191" alt = "SPRINT-Quiz">
        <p></p>

        <section id="quiz1" style="display: none">
            <form id="quiz" name="quiz" method="" action="">

                <h3>Frage <span id="qno">0</span></h3>
                <h1 id="question_text">Frage?</h1>
                              
                <-- Ergänzung von Markus -> 
                <h3>Thema: <span id="subject">Platzhalter subject</span></h3>

                <div>
                    <input type="radio" id="answers_a" name="answers" value="A" onchange="checkAnswer(this)">
                    <label for="answers_a"><span id="answer_a">Antwort A</span></label>

                    <input type="radio" id="answers_b" name="answers" value="B" onchange="checkAnswer(this)">
                    <label for="answers_b"><span id="answer_b">Antwort B</span></label>
                    <p></p>
                    <input type="radio" id="answers_c" name="answers" value="C" onchange="checkAnswer(this)">
                    <label for="answers_c"><span id="answer_c">Antwort C</span></label>

                    <input type="radio" id="answers_d" name="answers" value="D" onchange="checkAnswer(this)">
                    <label for="answers_d"><span id="answer_d">Antwort D</span></label>
                </div>
            </form>
        </section>
        
        <p></p>
        <p><button id="continue"  onclick="ShowAndHide(); showQuestion()">Neue Frage anzeigen</button></p>       
        <-- Ergänzung von Markus -> 
        <button onclick="parseJSON ()">Frage aus pseudo-JSON laden (Später von Server holen)</button>
        <p> </p>
        <p></p>
        <button><a href = "index.html" title ="Start Page">Zur Startseite zurück</a></body></button>
        
        <-- Ergänzung von Markus -> 
        <p> </p>
        <button><a href = "results.html" title ="Anzeige der aktuellen Punkte">PROVISORISCH: results (=aktueller Punktestand)</a></body></button>
        <p> </p>
        <button><a href = "congratulation.html" title ="Anzeige bei erfolgreichen Abschluss des Quiz">PROVISORISCH: Gratulationsbildschirm</a></body></button>
        <p></p>
    </body>-->

</html>


